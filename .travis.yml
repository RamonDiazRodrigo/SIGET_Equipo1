dist: trusty

language: java

jdk:
  - oraclejdk8

addons:
  apt:
    packages:
      - oracle-java8-installer

install:
  - npm install

git:
  depth: false

script:
- mvn clean
- mvn verify
- mvn jacoco:report
- mvn install
- mvn package spring-boot:repackage
- mvn verify sonar:sonar -Dsonar.projectKey=RamonDiazRodrigo_SIGET_Equipo1 -Dsonar.organization=agendae5


deploy: &heroku
        provider: heroku
        app: sige-equipo1-mantenimiento
        api_key: 513bd598-09fe-421a-98a7-b12e799d082b


server:
        port: $PORT
  
before_install:
  - chmod +x mvnw
